"use strict";document.addEventListener("DOMContentLoaded",function(){var n=document.querySelector("#username"),o=document.querySelector(".baocuo"),e=document.querySelector("#button"),r=document.querySelector("#password"),t=document.querySelector(".update"),a=document.getElementsByClassName("ul")[0].children;function c(){for(var e=["../../randompicture/1(1).jpg","../../randompicture/1(2).jpg","../../randompicture/1(3).jpg","../../randompicture/1(4).jpg","../../randompicture/1(5).jpg","../../randompicture/1(6).jpg","../../randompicture/1(7).jpg","../../randompicture/1(8).jpg","../../randompicture/1(9).jpg","../../randompicture/1(10).jpg","../../randompicture/1(11).jpg","../../randompicture/1(12).jpg","../../randompicture/1(13).jpg","../../randompicture/1(14).jpg","../../randompicture/1(15).jpg","../../randompicture/1(16).jpg","../../randompicture/1(17).jpg","../../randompicture/1(18).jpg","../../randompicture/1(19).jpg","../../randompicture/1(20).jpg"],r=0;r<a.length;r++){a[r].index=r,a[r].key=!1;var t=Math.floor(Math.random()*e.length);a[r].style.background="url('"+e[t]+"')",i(a[r]),a[r].onclick=function(){u(this)}}}function u(e){var r=e.style.transform.match(/[0-9]+/);r=1*r[0]+90,e.style.transform="rotate("+r+"deg)",r%360==0&&(e.key=!0)}function i(e){var r=90*parseInt(5*Math.random());e.style.transform="rotate("+r+"deg)",r%360==0&&(e.key=!0)}e.onclick=function(){if(a[0].key&&a[1].key&&a[2].key&&a[3].key){var r=n.value.trim(),e=password.value.trim();if(r&&e){var t="username="+r+"&psw="+e+"&time="+new Date;ajax("POST","../../api/login.php",t,function(e){console.log(e),"yes"==e?(Cookie.set("username",r,{path:"/"}),location.href="../../index.html?"+r):(o.style.display="block",o.innerHTML="用户名和密码有误")})}else o.style.display="block",o.innerHTML="请输入内容"}else alert("验证错误")},r.onfocus=function(){document.querySelector(".yanzheng").style.display="block",c()},t.onclick=function(){c()}});